const menuBtn=document.querySelector(".header__menu"),navMenu=document.querySelector(".navbar-menu"),saleMain=document.querySelector(".sale__main"),URLmain="http://localhost:3000/api/goods",hrefSrc=window.location.href.split("/").slice(0,-1).join("/");menuBtn.addEventListener("click",(e=>{e.preventDefault(),menuBtn.classList.toggle("header__menu--active"),navMenu.classList.toggle("navbar-menu--active")}));const cardsRender=e=>{if(e){const t=document.createElement("ul");return t.classList.add("sale__list","sale__list-main"),e.forEach(((n,a)=>{const s=document.createElement("li");s.classList.add("sale__item",`sale__item_${a+1}`);let c=e[a].price,i=0;s.addEventListener("click",(e=>{localStorage.setItem("downloadableProduct",JSON.stringify(n.title)),window.location.href=`${hrefSrc}/card.html`})),e[a].discount&&(i=e[a].discount,c=Math.round(c+c/100*i),s.classList.add("sale__item-discount"),s.dataset.text=`${e[a].discount}%`),s.insertAdjacentHTML("afterbegin",`\n                <img loading="lazy" src= http://localhost:3000/${n.image} alt="Картинка скидок" class="stock__img" width="325" height="295">\n                <div class="sale__wrapper-prices">\n                    <span class="price-sale">${e[a].price} ₽</span>\n                    <span class="price-full">${c} ₽</span>\n                </div>\n                <p class="sale__description">${e[a].title}</p>`),t.appendChild(s)})),t}},init=()=>{fetch(URLmain).then((e=>e.json())).then((e=>cardsRender(e))).then((e=>saleMain.querySelector(".container").append(e))).catch((e=>{console.log(e)}))};fetch(URLmain).then((e=>e.json())).then((e=>cardsRender(e))).then((e=>saleMain.querySelector(".container").append(e))).catch((e=>{console.log(e)}));
//# sourceMappingURL=../maps/index.js.map
