const section=document.querySelector(".recommendations"),arrCategory=[],hrefSrc=window.location.href.split("/").slice(0,-1).join("/"),categoryRender=async e=>{e.forEach((e=>{const t=document.createElement("h3");t.classList.add("recommendations__title"),t.innerText=e,section.append(t);const a=document.createElement("ul");a.classList.add("sale__list"),fetch(`http://localhost:3000/api/goods/category/${e}`).then((e=>e.json())).then((e=>e.forEach(((t,c)=>{const o=document.createElement("li");o.classList.add("sale__item",`sale__item_${c+1}`),o.addEventListener("click",(e=>{localStorage.setItem("downloadableProduct",JSON.stringify(t.title)),window.location.href=`${hrefSrc}/card.html`}));let n=e[c].price,s=0;e[c].discount&&(s=e[c].discount,n=Math.round(n+n/100*s),o.classList.add("sale__item-discount"),o.dataset.text=`${e[c].discount}%`),o.insertAdjacentHTML("afterbegin",`\n                <img loading="lazy" src= http://localhost:3000/${t.image} alt="Картинка скидок" class="stock__img" width="325" height="295">\n                <div class="sale__wrapper-prices">\n                    <span class="price-sale">${e[c].price} ₽</span>\n                    <span class="price-full">${n} ₽</span>\n                   \n                </div>\n                <p class="sale__description">${e[c].title}</p>`),a.appendChild(o)})))).catch((e=>{console.log(e)})),section.appendChild(a)}))},init=()=>{fetch("http://localhost:3000/api/category").then((e=>e.json())).then((e=>e.forEach((e=>{arrCategory.push(e)})))).then((()=>categoryRender(arrCategory))).catch((e=>{console.log(e)}))};fetch("http://localhost:3000/api/category").then((e=>e.json())).then((e=>e.forEach((e=>{arrCategory.push(e)})))).then((()=>categoryRender(arrCategory))).catch((e=>{console.log(e)}));
//# sourceMappingURL=../maps/category.js.map
