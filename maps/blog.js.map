{"version":3,"file":"../js/blog.js","names":["articlesWrapper","document","querySelector","blogPagination","containerPag","arrowBtn","getElementsByClassName","loadArticles","async","cb","url","window","location","search","substring","result","fetch","json","renderArticle","array","data","cartWrapper","createElement","className","numImg","articles","map","item","card","insertAdjacentHTML","id","title","append","renderPagination","maxPage","meta","pagination","pages","urlParam","URLSearchParams","firstPage","Number","get"],"sources":["blog.js"],"mappings":"AAAA,MAAMA,gBAAkBC,SAASC,cAAc,gBACzCC,eAAiBF,SAASC,cAAc,qBACxCE,aAAeH,SAASC,cAAc,yBACtCG,SAAWJ,SAASK,uBAAuB,aAI3CC,aAAeC,MAAOC,IAEzB,MACMC,EAAM,8CADAC,OAAOC,SAASC,OAAOC,UAAU,KAGtCC,QAAeC,MAAMN,GAI3BD,QAHoBM,EAAOE,OAGnB,EAGNC,cAAiBC,IACnB,MAAMC,EAAOD,EAAMC,KACbC,EAAcpB,SAASqB,cAAc,MAC3CD,EAAYE,UAAY,eACxB,IAAIC,EAAS,EACb,MAAMC,EAAWL,EAAKM,KAAIC,IACtBH,IAEA,MAAMI,EAAO3B,SAASqB,cAAc,MAkBpC,OAjBAM,EAAKL,UAAY,YAEjBK,EAAKC,mBACD,YACA,2EAC+BL,wIAGEG,EAAKG,OAAOH,EAAKI,kPAS/CH,CAAI,IAEfP,EAAYW,UAAUP,GACtBzB,gBAAgBgC,OAAOX,EAAW,EAYhCY,iBAAmBzB,UACrB,MACWO,QAAeC,MADd,gDAGDkB,SADcnB,EAAOE,QACLkB,KAAKC,WAAWC,MAEjCC,EAAW,IAAIC,gBAAgB5B,OAAOC,SAASC,QACrD,IAAI2B,EAAYC,OAAOH,EAASI,IAAI,SA2ChC,OA1CAF,GAAa,GAAkB,MAAbA,KAClBA,EAAY,GAEZA,EAAYN,EAAU,GAAgB,GAAXA,IAC3BM,EAAYN,EAAS,GAIzB9B,aAAayB,mBACT,YACA,6BAA6BW,EAAY,qwBAauBA,MAAcA,wFACfA,EAAY,MAAMA,EAAY,uFAC/BA,EAAY,MAAMA,EAAY,8EAE9DA,EAAY,2sBAenCpC,YAAY,EAG/BG,aAAaW,eACbe","sourcesContent":["const articlesWrapper = document.querySelector('.blog__carts');\r\nconst blogPagination = document.querySelector('.blog__pagination');\r\nconst containerPag = document.querySelector('.container-pagination');\r\nconst arrowBtn = document.getElementsByClassName('btn-arrow');\r\n\r\n\r\n\r\nconst loadArticles = async (cb ) => {\r\n\r\n   const num = window.location.search.substring(6);\r\n   const url = `https://gorest.co.in/public-api/posts?page=${num}`;\r\n\r\n    const result = await fetch(url);\r\n    const array = await result.json();\r\n    // const maxPage = array.meta.pagination.page;\r\n\r\n    cb(array)\r\n};\r\n\r\nconst renderArticle = (array) => {\r\n    const data = array.data;\r\n    const cartWrapper = document.createElement('ul');\r\n    cartWrapper.className = 'news-wrapper';\r\n    let numImg = 0;\r\n    const articles = data.map(item => {\r\n        numImg++;\r\n\r\n        const card = document.createElement('li');\r\n        card.className = 'news-cart';\r\n        \r\n        card.insertAdjacentHTML(\r\n            'beforeend',\r\n            `<a href=\"#\" class=\"img-crop\">\r\n                <img src=\"./img/blog-img-${numImg}.png\" alt=\"\">\r\n            </a>          \r\n            <div class=\"news-text__wrapper\">\r\n                <a href= \"article.html?id= ${item.id}\">${item.title}</a>\r\n                <p>29 октября 2020, 12:42</p>\r\n                <div class = \"icons-wrapper\">\r\n                    <p>1.9K</p>\r\n                    <p>0</p>\r\n                </div>\r\n            </div>\r\n            \r\n            `,);\r\n        return card;\r\n    });\r\n    cartWrapper.append(...articles);\r\n    articlesWrapper.append(cartWrapper)\r\n};\r\n\r\n// const eventsBtn = () => {\r\n//    for (let arrow of arrowBtn) {\r\n//         arrow.addEventListener('click', (e) =>{\r\n//             // e.target.classList.add('active');\\\r\n//             alert(arrow)\r\n//         })\r\n//   }\r\n// }\r\n\r\nconst renderPagination = async () => {\r\n    const url = `https://gorest.co.in/public-api/posts?page=1`;\r\n         const result = await fetch(url);\r\n         const array = await result.json();\r\n         const maxPage = array.meta.pagination.pages;\r\n\r\n        const urlParam = new URLSearchParams(window.location.search);\r\n        let firstPage = Number(urlParam.get('page')) ;\r\n        if (firstPage <= 0 || firstPage == null) {\r\n            firstPage = 1;\r\n        }\r\n        if (firstPage > maxPage - 3 && maxPage != 1) {\r\n            firstPage = maxPage -3 ;\r\n\r\n        }\r\n        // const  firstPage = Number(window.location.search.substring(6)) -1 ;\r\n        containerPag.insertAdjacentHTML(\r\n            'beforeend',\r\n            `<a href=\"blog.html?page = ${firstPage - 1}\" class=\"btn-arrow-left btn-arrow\">\r\n                <svg width=\"37\" height=\"37\" viewBox=\"0 0 37 37\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <g clip-path=\"url(#clip0_0_255)\">\r\n                    <path d=\"M32.375 16.9583H10.5296L16.0487 11.4237L13.875 9.25L4.625 18.5L13.875 27.75L16.0487 25.5763L10.5296 20.0417H32.375V16.9583Z\" fill=\"#8F8F8F\"/>\r\n                    </g>\r\n                    <defs>\r\n                    <clipPath id=\"clip0_0_255\">\r\n                    <rect width=\"37\" height=\"37\" fill=\"white\"/>\r\n                    </clipPath>\r\n                    </defs>\r\n                </svg>\r\n            </a>\r\n                <ul class=\"pagination-list\">\r\n                    <li class=\"pagination-item \"><a href=\"blog.html?page =${firstPage}\">${firstPage}</a></li>\r\n                    <li class=\"pagination-item\" ><a href=\"blog.html?page=${firstPage + 1}\">${firstPage + 1}</a></li>\r\n                    <li class=\"pagination-item\"><a href=\"blog.html?page=${firstPage + 2}\">${firstPage + 2}</a></li>\r\n                </ul>\r\n                <a href=\"blog.html?page=${firstPage + 3}\" class = \"btn-arrow-right btn-arrow \">\r\n                    <svg width=\"37\" height=\"37\" viewBox=\"0 0 37 37\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <g clip-path=\"url(#clip0_0_258)\">\r\n                    <path d=\"M4.625 16.9583H26.4704L20.9513 11.4237L23.125 9.25L32.375 18.5L23.125 27.75L20.9513 25.5763L26.4704 20.0417H4.625V16.9583Z\" fill=\"#8F8F8F\"/>\r\n                    </g>\r\n                    <defs>\r\n                    <clipPath id=\"clip0_0_258\">\r\n                    <rect width=\"37\" height=\"37\" fill=\"white\" transform=\"matrix(-1 0 0 1 37 0)\"/>\r\n                    </clipPath>\r\n                    </defs>\r\n                    </svg>\r\n                </a>\r\n            `,);\r\n          \r\n\r\n            return containerPag;\r\n    };\r\n   \r\nloadArticles(renderArticle);\r\nrenderPagination();\r\n// eventsBtn()\r\n\r\n"]}